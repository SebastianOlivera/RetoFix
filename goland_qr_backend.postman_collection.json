{
  "info": {
    "name": "Goland QR Backend",
    "description": "Colección actualizada para probar los endpoints del backend Goland QR, incluyendo la generación de URLs presignadas en MinIO.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://goland-qr-backend-new.reto-ucu.net"
    },
    {
      "key": "usuarioId",
      "value": "1"
    },
    {
      "key": "productoid",
      "value": "1"
    },
    {
      "key": "loteid",
      "value": "1"
    },
    {
      "key": "cultivoid",
      "value": "1"
    },
    {
      "key": "campoid",
      "value": "1"
    },
    {
      "key": "sampleFileName",
      "value": "example.png"
    }
  ],
  "item": [
    {
      "name": "Root",
      "item": [
        {
          "name": "Estado API",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            }
          }
        }
      ]
    },
    {
      "name": "Archivos",
      "item": [
        {
          "name": "Generar URL presignada (PUT)",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"file\": \"{{sampleFileName}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/generarPutURL",
              "host": ["{{baseUrl}}"],
              "path": ["generarPutURL"]
            }
          }
        }
      ]
    },
    {
      "name": "Usuarios",
      "item": [
        {
          "name": "Crear usuario",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mail\": \"admin-{{$timestamp}}@example.com\",\n  \"rol\": \"admin\",\n  \"password\": \"secreto123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/usuarios",
              "host": ["{{baseUrl}}"],
              "path": ["usuarios"]
            }
          }
        },
        {
          "name": "Listar usuarios",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/usuarios",
              "host": ["{{baseUrl}}"],
              "path": ["usuarios"]
            }
          }
        },
        {
          "name": "Obtener usuario por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/usuarios/{{usuarioId}}",
              "host": ["{{baseUrl}}"],
              "path": ["usuarios", "{{usuarioId}}"]
            }
          }
        },
        {
          "name": "Reemplazar usuario (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mail\": \"admin@example.com\",\n  \"rol\": \"superadmin\",\n  \"password\": \"nuevo-pass\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/usuarios/{{usuarioId}}",
              "host": ["{{baseUrl}}"],
              "path": ["usuarios", "{{usuarioId}}"]
            }
          }
        },
        {
          "name": "Actualizar usuario (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rol\": \"editor\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/usuarios/{{usuarioId}}",
              "host": ["{{baseUrl}}"],
              "path": ["usuarios", "{{usuarioId}}"]
            }
          }
        },
        {
          "name": "Eliminar usuario",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/usuarios/{{usuarioId}}",
              "host": ["{{baseUrl}}"],
              "path": ["usuarios", "{{usuarioId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Productos",
      "item": [
        {
          "name": "Crear producto",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombrecomercial\": \"Aceite de girasol\",\n  \"descripcion\": \"Aceite puro\",\n  \"imagenurl\": \"example.png\",\n  \"categoria\": \"aceite\",\n  \"porciones\": 10,\n  \"mododeuso\": \"usar en frio\",\n  \"pdfurl\": \"https://ejemplo.com/ficha.pdf\",\n  \"claim\": \"sin gluten;alto oleico\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/productos",
              "host": ["{{baseUrl}}"],
              "path": ["productos"]
            }
          }
        },
        {
          "name": "Listar productos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/productos?categoria=",
              "host": ["{{baseUrl}}"],
              "path": ["productos"],
              "query": [
                {"key": "categoria", "value": ""}
              ]
            }
          }
        },
        {
          "name": "Obtener producto",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/productos/{{productoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["productos", "{{productoid}}"]
            }
          }
        },
        {
          "name": "Actualizar producto (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombrecomercial\": \"Aceite refinado\",\n  \"descripcion\": \"Detalle actualizado\",\n  \"imagenurl\": \"example.png\",\n  \"categoria\": \"aceite\",\n  \"porciones\": 12,\n  \"mododeuso\": \"usar en frio\",\n  \"pdfurl\": \"https://ejemplo.com/ficha.pdf\",\n  \"claim\": \"sin gluten;alto oleico\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/productos/{{productoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["productos", "{{productoid}}"]
            }
          }
        },
        {
          "name": "Actualizar producto (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"descripcion\": \"Detalle parcial\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/productos/{{productoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["productos", "{{productoid}}"]
            }
          }
        },
        {
          "name": "Eliminar producto",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/productos/{{productoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["productos", "{{productoid}}"]
            }
          }
        },
        {
          "name": "Claims del producto",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/productos/{{productoid}}/claims",
              "host": ["{{baseUrl}}"],
              "path": ["productos", "{{productoid}}", "claims"]
            }
          }
        }
      ]
    },
    {
      "name": "Lotes",
      "item": [
        {
          "name": "Crear lote",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fechasiembra\": \"2024-01-01\",\n  \"fechacosecha\": \"2024-03-01\",\n  \"fechaprocesamiento\": \"2024-03-15\",\n  \"fechavencimiento\": \"2025-03-15\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/lotes/",
              "host": ["{{baseUrl}}"],
              "path": ["lotes", ""]
            }
          }
        },
        {
          "name": "Listar lotes",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/lotes/",
              "host": ["{{baseUrl}}"],
              "path": ["lotes", ""]
            }
          }
        },
        {
          "name": "Obtener lote",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/lotes/{{loteid}}",
              "host": ["{{baseUrl}}"],
              "path": ["lotes", "{{loteid}}"]
            }
          }
        },
        {
          "name": "Actualizar lote (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fechasiembra\": \"2024-01-02\",\n  \"fechacosecha\": \"2024-03-02\",\n  \"fechaprocesamiento\": \"2024-03-16\",\n  \"fechavencimiento\": \"2025-03-16\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/lotes/{{loteid}}",
              "host": ["{{baseUrl}}"],
              "path": ["lotes", "{{loteid}}"]
            }
          }
        },
        {
          "name": "Actualizar lote (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fechacosecha\": \"2024-03-10\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/lotes/{{loteid}}",
              "host": ["{{baseUrl}}"],
              "path": ["lotes", "{{loteid}}"]
            }
          }
        },
        {
          "name": "Eliminar lote",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/lotes/{{loteid}}",
              "host": ["{{baseUrl}}"],
              "path": ["lotes", "{{loteid}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Cultivos",
      "item": [
        {
          "name": "Crear cultivo",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"variedad\": \"Trigo\",\n  \"practicasagronomicas\": \"Rotación\",\n  \"usofertilizante\": \"NPK\",\n  \"condicionesclimaticas\": \"Templado\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cultivos",
              "host": ["{{baseUrl}}"],
              "path": ["cultivos"]
            }
          }
        },
        {
          "name": "Listar cultivos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/cultivos",
              "host": ["{{baseUrl}}"],
              "path": ["cultivos"]
            }
          }
        },
        {
          "name": "Obtener cultivo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/cultivos/{{cultivo_id}}",
              "host": ["{{baseUrl}}"],
              "path": ["cultivos", "{{cultivo_id}}"]
            }
          }
        },
        {
          "name": "Actualizar cultivo (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"variedad\": \"Trigo modificado\",\n  \"practicasagronomicas\": \"Rotación y riego\",\n  \"usofertilizante\": \"NPK\",\n  \"condicionesclimaticas\": \"Templado\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cultivos/{{cultivo_id}}",
              "host": ["{{baseUrl}}"],
              "path": ["cultivos", "{{cultivo_id}}"]
            }
          }
        },
        {
          "name": "Actualizar cultivo (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"usofertilizante\": \"Orgánico\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cultivos/{{cultivo_id}}",
              "host": ["{{baseUrl}}"],
              "path": ["cultivos", "{{cultivo_id}}"]
            }
          }
        },
        {
          "name": "Eliminar cultivo",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/cultivos/{{cultivo_id}}",
              "host": ["{{baseUrl}}"],
              "path": ["cultivos", "{{cultivo_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Campos",
      "item": [
        {
          "name": "Listar campos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/campos",
              "host": ["{{baseUrl}}"],
              "path": ["campos"]
            }
          }
        },
        {
          "name": "Crear campo",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/campos/",
              "host": ["{{baseUrl}}"],
              "path": ["campos", ""],
              "query": [
                {"key": "nombre", "value": "Campo 1"},
                {"key": "departamento", "value": "Montevideo"},
                {"key": "tipomanejo", "value": "Convencional"},
                {"key": "coordenadas", "value": "-34.90,-56.16"}
              ]
            }
          }
        },
        {
          "name": "Obtener campo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/campos/{{campoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["campos", "{{campoid}}"]
            }
          }
        },
        {
          "name": "Actualizar campo (PUT)",
          "request": {
            "method": "PUT",
            "url": {
              "raw": "{{baseUrl}}/campos/{{campoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["campos", "{{campoid}}"],
              "query": [
                {"key": "nombre", "value": "Campo actualizado"},
                {"key": "departamento", "value": "Canelones"},
                {"key": "tipomanejo", "value": "Orgánico"},
                {"key": "coordenadas", "value": "-34.80,-56.20"},
                {"key": "archivokmz", "value": "mapa.kmz"}
              ]
            }
          }
        },
        {
          "name": "Actualizar campo (PATCH)",
          "request": {
            "method": "PATCH",
            "url": {
              "raw": "{{baseUrl}}/campos/{{campoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["campos", "{{campoid}}"],
              "query": [
                {"key": "tipomanejo", "value": "Regenerativo"}
              ]
            }
          }
        },
        {
          "name": "Eliminar campo",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/campos/{{campoid}}",
              "host": ["{{baseUrl}}"],
              "path": ["campos", "{{campoid}}"]
            }
          }
        }
      ]
    }
  ]
}
